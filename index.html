<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω–∞–º–∏ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>
    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ -->
    <div id="loginPage" class="login-page">
        <div class="login-container">
            <h1>üîê –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h1>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginRole">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å:</label>
                    <select id="loginRole" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å</option>
                        <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                        <option value="employee">–°–æ—Ç—Ä—É–¥–Ω–∏–∫</option>
                    </select>
                </div>
                <div class="form-group" id="employeeSelectGroup" style="display: none;">
                    <label for="loginEmployee">–°–æ—Ç—Ä—É–¥–Ω–∏–∫:</label>
                    <select id="loginEmployee">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="loginPassword">–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="loginPassword" required placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                </div>
                <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
                <div id="loginError" class="error-message" style="display: none;"></div>
            </form>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="appContainer" class="container" style="display: none;">
        <header>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h1>üìÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω–∞–º–∏</h1>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <span id="currentUserInfo" style="color: var(--primary-blue); font-weight: 600;"></span>
                    <button class="btn btn-secondary" id="logoutBtn">–í—ã–π—Ç–∏</button>
                </div>
            </div>
        </header>

        <nav class="tabs">
            <button class="tab-btn active" data-tab="employees">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</button>
            <button class="tab-btn" data-tab="shifts">–°–º–µ–Ω—ã</button>
            <button class="tab-btn" data-tab="calendar">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
            <button class="tab-btn" data-tab="reports">–û—Ç—á—ë—Ç—ã</button>
        </nav>

        <!-- –í–∫–ª–∞–¥–∫–∞ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ -->
        <section id="employees" class="tab-content active">
            <div class="card">
                <h2>–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h2>
                <form id="employeeForm">
                    <div class="form-group">
                        <label for="employeeName">–ò–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:</label>
                        <input type="text" id="employeeName" required placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
                    </div>
                    <div class="form-group">
                        <label for="employeePassword">–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞:</label>
                        <input type="password" id="employeePassword" required placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å">
                        <small style="color: var(--text-light); font-size: 12px;">–ü–∞—Ä–æ–ª—å –Ω—É–∂–µ–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É –¥–ª—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É</small>
                    </div>
                    <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>
                </form>
            </div>

            <div class="card">
                <h2>–°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</h2>
                <div id="employeesList" class="list-container">
                    <!-- –°–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>

            <div class="card">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</h2>
                <div id="passwordManagementList" class="list-container">
                    <!-- –°–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
        </section>

        <!-- –í–∫–ª–∞–¥–∫–∞ –°–º–µ–Ω—ã -->
        <section id="shifts" class="tab-content">
            <div class="card">
                <h2 id="shiftFormTitle">–î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É</h2>
                <form id="shiftForm">
                    <input type="hidden" id="shiftId" value="">
                    <div class="form-group">
                        <label for="shiftEmployee">–°–æ—Ç—Ä—É–¥–Ω–∏–∫:</label>
                        <select id="shiftEmployee" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="shiftDate">–î–∞—Ç–∞:</label>
                        <input type="date" id="shiftDate" required>
                        <small style="color: var(--text-light); font-size: 12px;">–ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ª—é–±—É—é –¥–∞—Ç—É, –≤–∫–ª—é—á–∞—è –ø—Ä–æ—à–µ–¥—à–∏–µ –ø–µ—Ä–∏–æ–¥—ã</small>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="shiftStart">–ù–∞—á–∞–ª–æ —Å–º–µ–Ω—ã:</label>
                            <input type="time" id="shiftStart" min="09:00" max="21:00" value="09:00" required>
                        </div>
                        <div class="form-group">
                            <label for="shiftEnd">–û–∫–æ–Ω—á–∞–Ω–∏–µ —Å–º–µ–Ω—ã:</label>
                            <input type="time" id="shiftEnd" min="09:00" max="21:00" value="21:00" required>
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button type="submit" class="btn btn-primary" id="shiftSubmitBtn">–î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É</button>
                        <button type="button" class="btn btn-secondary" id="shiftCancelBtn" style="display: none;" onclick="cancelEditShift()">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </form>
            </div>

            <div class="card">
                <h2>–°–ø–∏—Å–æ–∫ —Å–º–µ–Ω</h2>
                <div id="shiftsList" class="list-container">
                    <!-- –°–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
        </section>

        <!-- –í–∫–ª–∞–¥–∫–∞ –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
        <section id="calendar" class="tab-content">
            <div class="card">
                <h2>–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–º–µ–Ω</h2>
                <div class="calendar-controls">
                    <button class="btn btn-secondary" id="prevMonth">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π</button>
                    <h3 id="currentMonth"></h3>
                    <button class="btn btn-secondary" id="nextMonth">–°–ª–µ–¥—É—é—â–∏–π ‚Üí</button>
                </div>
                <div id="calendarContainer"></div>
            </div>
        </section>

        <!-- –í–∫–ª–∞–¥–∫–∞ –û—Ç—á—ë—Ç—ã -->
        <section id="reports" class="tab-content">
            <div class="card">
                <h2>–û—Ç—á—ë—Ç –ø–æ –∑–∞—Ä–∞–±–æ—Ç–∫—É</h2>
                <div class="form-group" id="reportEmployeeGroup">
                    <label for="reportEmployee">–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:</label>
                    <select id="reportEmployee">
                        <option value="all">–í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="reportStartDate">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</label>
                        <input type="date" id="reportStartDate">
                    </div>
                    <div class="form-group">
                        <label for="reportEndDate">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</label>
                        <input type="date" id="reportEndDate">
                    </div>
                </div>
                <button class="btn btn-primary" id="generateReport">–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç</button>
            </div>

            <div class="card" id="reportResults">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç—á—ë—Ç–∞</h2>
                <div id="reportContent">
                    <p class="placeholder">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –Ω–∞–∂–º–∏—Ç–µ "–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç"</p>
                </div>
            </div>
        </section>
    </div>

    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ -->
    <div id="syncIndicator" class="sync-indicator" style="display: none;">
        <span>üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...</span>
    </div>

    <script src="firebase-config.js"></script>
    <script src="script.js"></script>
</body>
</html>

